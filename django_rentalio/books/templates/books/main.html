{% extends 'base.html' %}
{% load widget_tweaks %}
{% block title %}book title list{% endblock title %}

{% block content %}

    {% if messages %}
        {% for messages in messages %}
            {% if 'info' in messages.tags %}
                {% include 'components/alert.html' with is_info=True title="Success" body=message %}
            {% elif 'error' in messages.tags %}
                {% include 'components/alert.html' with is_info=False title="Error" body=message %}
            {% endif %}
        {% endfor %}
    {% endif %}

    {% include 'components/header.html' with title="Book titles" description="List of all the book titles available" %}

    {% for letter in letters %}
        <a href="{% url 'books:main' letter|lower %}" class="{% if letter == selected_letter|upper%}underline{% endif %}">{{ letter }}</a>
    {% endfor %}
    <form action="" method="POST">
        {% csrf_token %}

        <div class="mb-2">
            <label for="{{ form.title.id_for_label }}" class="block font-bold text-slate=800 dark.text-slate-300">title:</label>
            {{form.title|add_class:'bg-slate-100 dark:bg-slate-300 text-slate-800 rounded p-2 w-full'}}
            {% if form.title.errors %}
                {% for error in form.title.errors %}
                <div class="my-1 text-red-500 font-bold text-sm">{{ error }}</div>
            {% endfor %}
            {% endif  %}
        </div>

           <div class="mb-2">
            <label for="{{ form.author.id_for_label }}" class="block font-bold text-slate=800 dark.text-slate-300">author:</label>
            {{form.author|add_class:'bg-slate-100 dark:bg-slate-300 text-slate-800 rounded p-2 w-full'}}
        </div>


           <div class="mb-2">
            <label for="{{ form.publisher.id_for_label }}" class="block font-bold text-slate=800 dark.text-slate-300">publisher:</label>
            {{form.publisher|add_class:'bg-slate-100 dark:bg-slate-300 text-slate-800 rounded p-2 w-full'}}
        </div>


    <button type="submit" class="p-3 bg-blue-500 text-white">Submit</button>
    </form>
    {% if qs %}
        <ul>
            {% for el in qs %}
                <li><a href="{{el.get_absolute_url}}">{{el.title}}</a></li>
            {% endfor %}
        </ul>
        {% else %}
            No book titles starting with <b>{{selected_letter}}</b>
        {% endif %}

{% endblock content %}
